💾 Fazendo backup...
✏️  Aplicando correção...
🔐 Corrigindo permissões do diretório de upload...
🚀 Reiniciando aplicação...
[PM2] Applying action restartProcessId on app [aet-sistema](ids: [ 0 ])
[PM2] [aet-sistema](0) ✓
[PM2] Process successfully started
┌────┬────────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name           │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼────────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 0  │ aet-sistema    │ default     │ 1.0.0   │ fork    │ 755684   │ 0s     │ 52   │ online    │ 0%       │ 16.3mb   │ ser… │ disabled │
└────┴────────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
📊 Verificando logs...
[TAILING] Tailing last 10 lines for [aet-sistema] process (change the value with --lines option)
/var/log/aet/error-0.log last 10 lines:
0|aet-sist | 2025-08-22T10:26:17:     at <anonymous> (/var/www/aetlicensesystem/LicencaTransporte/server/routes.ts:5690:34)
0|aet-sist | 2025-08-22T10:34:09: Warning: connect.session() MemoryStore is not
0|aet-sist | 2025-08-22T10:34:09: designed for a production environment, as it will leak
0|aet-sist | 2025-08-22T10:34:09: memory, and will not scale past a single process.
0|aet-sist | 2025-08-22T10:49:08: Warning: connect.session() MemoryStore is not
0|aet-sist | 2025-08-22T10:49:08: designed for a production environment, as it will leak
0|aet-sist | 2025-08-22T10:49:08: memory, and will not scale past a single process.
0|aet-sist | 2025-08-22T10:50:34: Warning: connect.session() MemoryStore is not
0|aet-sist | 2025-08-22T10:50:34: designed for a production environment, as it will leak
0|aet-sist | 2025-08-22T10:50:34: memory, and will not scale past a single process.

/var/log/aet/out-0.log last 10 lines:
0|aet-sist | 2025-08-22T10:52:49: Novo cliente WebSocket conectado
0|aet-sist | 2025-08-22T10:52:49: Mensagem recebida: {"type":"REGISTER_INTEREST","licenseId":406}
0|aet-sist | 2025-08-22T10:52:54: Cliente WebSocket desconectado
0|aet-sist | 2025-08-22T10:52:56: Novo cliente WebSocket conectado
0|aet-sist | 2025-08-22T10:53:05: Cliente WebSocket desconectado
0|aet-sist | 2025-08-22T10:53:07: Novo cliente WebSocket conectado
0|aet-sist | 2025-08-22T10:53:23: Cliente WebSocket desconectado
0|aet-sist | 2025-08-22T10:53:27: Novo cliente WebSocket conectado
0|aet-sist | 2025-08-22T10:53:27: Mensagem recebida: {"type":"REGISTER_INTEREST","licenseId":405}
0|aet-sist | 2025-08-22T10:53:49: Cliente WebSocket desconectado

0|aet-sistema  | 2025-08-22T10:53:55: [UPLOAD] Validando diretório de upload (SEM FALLBACK): /var/www/aetlicensesystem/uploads
0|aet-sistema  | 2025-08-22T10:53:55: [UPLOAD] ✅ Diretório validado: /var/www/aetlicensesystem/uploads
0|aet-sistema  | 2025-08-22T10:53:55: [UPLOAD] 📁 Subdiretórios: vehicles, transporters, boletos, vehicle-set-types, licenses
0|aet-sistema  | 2025-08-22T10:53:55: [dotenv@17.2.1] injecting env (0) from .env -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }
0|aet-sistema  | 2025-08-22T10:53:55: Warning: connect.session() MemoryStore is not
0|aet-sistema  | 2025-08-22T10:53:55: designed for a production environment, as it will leak
0|aet-sistema  | 2025-08-22T10:53:55: memory, and will not scale past a single process.
0|aet-sistema  | 2025-08-22T10:53:55: [UPLOAD] Servindo arquivos de /var/www/aetlicensesystem/uploads em /uploads
0|aet-sistema  | 2025-08-22T10:53:55: [UPLOAD] Servindo arquivos de /var/www/aetlicensesystem/uploads em /uploads
0|aet-sistema  | 2025-08-22T10:53:56: 10:53:55 AM [express] serving on port 5000