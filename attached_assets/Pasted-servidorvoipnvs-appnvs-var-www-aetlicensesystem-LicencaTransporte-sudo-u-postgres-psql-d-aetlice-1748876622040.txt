servidorvoipnvs@appnvs:/var/www/aetlicensesystem/LicencaTransporte$ sudo -u postgres psql -d aetlicensesystem
psql (13.21 (Debian 13.21-0+deb11u1))
Type "help" for help.

aetlicensesystem=# 
^C
aetlicensesystem=# 
^C
aetlicensesystem=# -- Verificar se transporters tem updated_at
\d transporters
-- Se não tiver, adicionar
ALTER TABLE transporters ADD COLUMN updated_at TIMESTAMP DEFAULT NOW() NOT NULL;
-- Criar trigger para transporters
CREATE TRIGGER update_transporters_updated_at 
BEFORE UPDATE ON transporters 
FOR EACH ROW EXECUTE PROCEDURE update_updated_at_column();
-- Sair
\q
\d: extra argument "--" ignored
\d: extra argument "Se" ignored
\d: extra argument "não" ignored
\d: extra argument "tiver," ignored
\d: extra argument "adicionar" ignored
\d: extra argument "ALTER" ignored
\d: extra argument "TABLE" ignored
\d: extra argument "transporters" ignored
\d: extra argument "ADD" ignored
\d: extra argument "COLUMN" ignored
\d: extra argument "updated_at" ignored
\d: extra argument "TIMESTAMP" ignored
\d: extra argument "DEFAULT" ignored
\d: extra argument "NOW()" ignored
\d: extra argument "NOT" ignored
\d: extra argument "NULL;" ignored
\d: extra argument "--" ignored
\d: extra argument "Criar" ignored
\d: extra argument "trigger" ignored
\d: extra argument "para" ignored
\d: extra argument "transporters" ignored
\d: extra argument "CREATE" ignored
\d: extra argument "TRIGGER" ignored
\d: extra argument "update_transporters_updated_at" ignored
\d: extra argument "BEFORE" ignored
\d: extra argument "UPDATE" ignored
\d: extra argument "ON" ignored
\d: extra argument "transporters" ignored
\d: extra argument "FOR" ignored
\d: extra argument "EACH" ignored
\d: extra argument "ROW" ignored
\d: extra argument "EXECUTE" ignored
\d: extra argument "PROCEDURE" ignored
\d: extra argument "update_updated_at_column();" ignored
\d: extra argument "--" ignored
\d: extra argument "Sair" ignored
servidorvoipnvs@appnvs:/var/www/aetlicensesystem/LicencaTransporte$ sudo -u postgres psql -d aetlicensesystem
psql (13.21 (Debian 13.21-0+deb11u1))
Type "help" for help.

aetlicensesystem=# \d transporters
aetlicensesystem=# ALTER TABLE transporters ADD COLUMN updated_at TIMESTAMP DEFAULT NOW() NOT NULL;
ALTER TABLE
aetlicensesystem=# CREATE TRIGGER update_transporters_updated_at 
BEFORE UPDATE ON transporters 
FOR EACH ROW EXECUTE PROCEDURE update_updated_at_column();
ERROR:  trigger "update_transporters_updated_at" for relation "transporters" already exists
aetlicensesystem=# 