@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ajustes específicos para dispositivos móveis */
@media (max-width: 768px) {
  body.keyboard-active {
    overflow: hidden;
    height: 100vh;
  }
  
  .mobile-form-dialog {
    max-height: 65vh !important;
    position: absolute !important;
    top: 5vh !important;
    transform: translate(-50%, 0) !important;
  }
  
  /* Específico para campo de placas com a faixa preta */
  .mobile-input-plate {
    position: relative;
    z-index: 10;
  }
  
  /* Quando o campo de placa está focado */
  #license-plate-input:focus {
    position: relative;
    z-index: 10;
    transform: translateY(-100px);
    transition: transform 0.2s ease;
  }
  
  /* Elementos com foco recebem uma margem extra para evitar a faixa preta */
  .mobile-input:focus,
  .mobile-input:active,
  .mobile-input-plate:focus,
  .mobile-input-plate:active {
    margin-bottom: 300px; /* Adiciona espaço extra abaixo do campo quando ele está com foco */
    margin-top: 50px;
  }
  
  /* Reduzir padding e tamanho de texto em dispositivos móveis */
  .mobile-form-dialog .p-6 {
    padding: 0.75rem !important;
  }
  
  /* Melhorar visualização em dispositivos móveis */
  .mobile-form-dialog {
    min-height: auto !important;
    padding-bottom: 4rem !important;
  }
  
  /* Garantir que botões tenham tamanho adequado para toque em mobile */
  button {
    min-height: 40px;
  }
  
  /* Mais espaço para grids em dispositivos móveis */
  .grid-cols-2 {
    gap: 8px !important;
  }
  
  /* Área de scroll em dispositivos móveis */
  .mobile-form-dialog > div:not(.sticky) {
    padding-bottom: 5rem;
  }
  
  /* Corrigir problema do botão cancelar suspenso */
  .mobile-footer {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    width: 100% !important;
    z-index: 100 !important;
    transform: none !important;
    border-radius: 0 !important;
    padding: 0.5rem !important;
    display: flex !important;
    justify-content: flex-end !important;
    background-color: rgba(255, 255, 255, 0.85) !important;
    backdrop-filter: blur(8px) !important;
  }
  
  /* Ajuste para que o formulário tenha rolagem adequada */
  .mobile-form-dialog {
    overflow-y: auto !important;
    scroll-padding-bottom: 70px !important;
  }
  
  /* Evitar que o conteúdo seja obscurecido pelo footer */
  .mobile-form-dialog > div:not(.mobile-footer) {
    padding-bottom: 120px !important;
  }
  
  /* Garantir que o botão de cancelar fique em uma posição que não interfira com a digitação */
  .mobile-cancel-btn {
    opacity: 0.7 !important;
    transform: scale(0.85) !important;
  }
  
  /* Comportamento especial quando o teclado está ativo */
  .mobile-input:focus ~ .mobile-footer,
  .mobile-input:active ~ .mobile-footer,
  .mobile-input-plate:focus ~ .mobile-footer,
  .mobile-input-plate:active ~ .mobile-footer {
    opacity: 0.5 !important;
    transform: translateY(20px) !important;
    transition: transform 0.3s ease, opacity 0.3s ease !important;
  }
  
  /* Esconder botão quando campo específico de placa está com foco */
  #license-plate-input:focus ~ .mobile-footer,
  #license-plate-input:active ~ .mobile-footer {
    opacity: 0 !important;
    pointer-events: none !important;
  }
  
  /* Ajuste adicional para diálogo */
  .mobile-form-dialog:has(#license-plate-input:focus) {
    max-height: 50vh !important;
  }
}

/* Custom CSS para API endpoint personalizado */
.api-endpoints-external {
  display: none !important;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}